from sys import argv
from os import unlink

def main():
\tif len(argv) < 3:
\t\traise Exception("Insufficient number of arguments")
\t
\tif argv[1] == "pre":
\t\tfor index in range(2, len(argv)):
\t\t\t
\t\t\t# reads in the program
\t\t\tf = open(argv[2], "r")
\t\t\tprogram = f.read()
\t\t\tf.close()
\t\t\t
\t\t\t# makes a copy of the program to recover from later
\t\t\tf = open(argv[2] + ".copy", "w")
\t\t\tf.write(program)
\t\t\tf.close();
\t\t\t
\t\t\t# removes package statement
\t\t\tprogram = program[program.index(";") + 4:]
\t\t\t
\t\t\t# writes out the modified program
\t\t\tf = open(argv[2], "w")
\t\t\tf.write(program)
\t\t\tf.close()
\t\t
\telif argv[1] == "post":
\t\tfor index in range(2, len(argv)):
\t\t\t
\t\t\t# reads in the original program
\t\t\tf = open(argv[2] + ".copy", "r")
\t\t\tprogram = f.read()
\t\t\tf.close()
\t\t\t
\t\t\t# copies over modified program
\t\t\tf = open(argv[2], "w")
\t\t\tf.write(program)
\t\t\tf.close()
\t\t\t
\t\t\t# deletes copy of original program
\t\t\tunlink(argv[2] + ".copy")
\t\t
\telse:
\t\traise Exception(argv[1] + " is not an option")
\t\t

if __name__ == '__main__':
\tmain()
